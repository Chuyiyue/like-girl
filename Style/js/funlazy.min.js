/* !
 * FunLazy v3.0.0
 * Copyright (C) 2020-present, ZG
 * Released under the MIT license.
 */
!(function(){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).FunLazy=n()}("undefined"!=typeof window?window:void 0,function(){function l(e,n,t){t?e.src=n:e.style.backgroundImage="url(".concat(n,")")}function y(e){return s.body.contains(e)&&"body"!==e.parentNode.nodeName.toLowerCase()&&(a=e.parentNode,"none"===g(a,"display")||"hidden"===g(a,"visibility")?i=!0:y(a)),i}var s=window.document,p=s.documentElement,e=s.head,h="data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAA1BMVEXd3d3u346CAAAADUlEQVR42gECAP3/AAAAAgABUyucMAAAAABJRU5ErkJggg==",t={container:"body",effect:"show",placeholder:h,threshold:0,width:null,height:null,axis:"y",eventType:"",autoCheckChange:!1,useErrorImagePlaceholder:!1,strictLazyMode:!0,beforeLazy:function(){},onSuccess:function(){},onError:function(){}},n=".funlazy-fadeIn{animation:funlazy-fadeIn ".concat(400,"ms ease 0s 1 normal forwards running;}@keyframes funlazy-fadeIn{from{opacity:0}to{opacity:1}}"),o="funlazy-fade-in-style",r=s.getElementById(o),g=(r&&e.removeChild(r),e.insertAdjacentHTML("afterbegin",'<style id="'.concat(o,'">').concat(n,"</style>")),function(e,n){return window.getComputedStyle(e,null).getPropertyValue(n)}),i=!1,a=null;return function e(n){var a,c=function(e,n){var t,o={};for(t in n)o[t]=(void 0===e[t]?n:e)[t];return o}(n||{},t),d="function"==typeof c.beforeLazy,f="function"==typeof c.onSuccess,u="function"==typeof c.onError;if(c.container!==window&&c.container!==s&&"html"!==c.container||(c.container="body"),a="string"==typeof c.container?s.querySelector(c.container):a){n=a.querySelectorAll("[data-funlazy]");if(n.length)return Array.from(n).forEach(function(n){var r,t,e,o,i=n.getAttribute("data-funlazy").trim();!i||n.funlazyLoaded||c.strictLazyMode&&("none"===g(n,"display")||"hidden"===g(n,"visibility")||y(n)||0==+g(n,"opacity"))||(r="img"===n.nodeName.toLowerCase(),"string"==typeof c.placeholder&&l(n,c.placeholder,r),c.width&&(n.style.width="string"==typeof c.width?c.width:"".concat(c.width,"px")),c.height&&(n.style.height="string"==typeof c.height?c.height:"".concat(c.height,"px")),t=function(t,o){var e;t.funlazyLoaded?o&&o(!0):((e=new Image).onload=function(){var e;l(t,i,r),"fadeIn"===c.effect&&"classList"in p&&(t.classList.add("funlazy-fadeIn"),e=window.setTimeout(function(){window.clearTimeout(e),e=null,t.classList.remove("funlazy-fadeIn")},400)),!t.funlazyLoaded&&f&&c.onSuccess(t,i),t.funlazyLoaded=!0,o&&o(!0)},e.onerror=function(){!t.funlazyFailed&&u&&c.onError(t,i);var e,n=c.useErrorImagePlaceholder;n&&(t.src=h,"string"==typeof n)&&n.trim()&&((e=new Image).src=n.trim(),e.onload=function(){t.src=n.trim()}),t.funlazyFailed=!0,o&&o(!1)},d&&(i=c.beforeLazy(i)||i),e.src=i)},c.eventType.match(/(click|dblclick|mouseover)/)?s.addEventListener(c.eventType,function(e){e.target!==n||n.funlazyLoaded||n.funlazyFailed||t(n)}):n.funlazyLoaded||(e="number"==typeof c.threshold&&0<c.threshold?c.threshold:0,(o=new IntersectionObserver(function(e){e.forEach(function(n){n.target&&n.isIntersecting&&t(n.target,function(e){!0===e&&o.unobserve(n.target)})})},{root:"body"===c.container?null:a,threshold:[0],rootMargin:"0px ".concat("x"===c.axis?e:0,"px ").concat("y"===c.axis?e:0,"px 0px")})).observe(n)))}),c.autoCheckChange&&supportMutationObserver&&new MutationObserver(function(){e(c)}).observe(a,{childList:!0,subtree:!0}),c}}})})();